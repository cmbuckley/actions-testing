name: Push
on: push

defaults:
  run:
    shell: bash -e ${{ runner.debug && '-x' || '' }} {0}

jobs:
  check:
    runs-on: ubuntu-latest
    environment:
      name: testytest
    steps:
      - run: |
          curl https://bux.re
  
  call:
    uses: ./.github/workflows/call.yml
    strategy:
      matrix:
        status: [in_progress, failure, success]
    with:
      status: ${{ matrix.status }}

  outputs:
    runs-on: ubuntu-latest
    needs: call
    steps:
      - run: |
          echo '${{ toJSON(needs.call.outputs) }}'    
