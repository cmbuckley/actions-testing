name: Workflow Call 
on:
  workflow_call:
    inputs:
      status:
        description: Deployment status
        required: true
        type: string
    outputs:
      emoji: ${{ jobs.call.outputs.emoji }}
      title: ${{ jobs.call.outputs.title }}
      preview: ${{ jobs.call.outputs.preview }}
jobs:
  call:
    name: Do Cally Things
    runs-on: ubuntu-latest
    outputs:
      emoji: ${{ steps.get-text.outputs.emoji }}
      title: ${{ steps.get-text.outputs.title }}
      preview: ${{ steps.get-text.outputs.preview }}
    steps:
      - name: Get comment text
        id: get-text
        uses: actions/github-script@v7
        with:
          script: |
            const status = github.events.inputs.status,
              data = {
                in_progress: ['üë∑', 'in progress', false],
                failure:     ['‚ùå', 'failed', false],
                success:     ['‚úÖ', 'ready', true],
              };

            core.setOutput('emoji', data[status][0]);
            core.setOutput('title', data[status][1]);
            core.setOutput('preview', data[status][2]);
